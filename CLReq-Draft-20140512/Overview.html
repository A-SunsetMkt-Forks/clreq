<!DOCTYPE html>
<html>
  <head>
    <title>Requirements for Chinese Text Layout</title>
    <meta charset='utf-8'>
    <script src='http://www.w3.org/Tools/respec/respec-w3c-common'
            async class='remove'></script>
    <script class='remove'>
      var respecConfig = {
          specStatus: "ED",
          shortName:  "clreq",
          editors: [
                {   name:       "Bobby Tung (董福興)",
                    mailto:     "bobbytung@wanderer.tw",
                    company:    "Invited Expert" },
                {   name:       "Yijun Chen (陳奕鈞)",
                    mailto:     "ethantw@me.com",
                    company:    "Invited Expert" },
                {   name:       "Hai Liang (梁海)",
                    mailto:     "lianghai@gmail.com",
                    company:    "Invited Expert" },
                {   name:       "Xiaoqian Wu (吴小倩)",
                    mailto:     "xiaoqian@w3.org",
                    company:    "W3C" }
          ],
          wg:           "HTML5 Chinese Interest Group",
          wgURI:        "http://www.w3.org/html/ig/zh/",
          wgPublicList: "public-html-ig-zh",
          wgPatentURI:  "http://www.w3.org/2004/01/pp-impl/",
          edDraftURI: "http://w3c.github.io/CLReq/CLReq-Draft-20140512/Overview.html", 
      };
    </script>
  </head>
  <body>
    <section id='abstract'>
      <p>
        This document describes requirements for Chinese text layout, in which both Simplified Chinese typesetting guidelines and Traditional Chinese typesetting guidelines are included.
      </p>
    </section>

    <section id='sotd'>
      <p>
        <a href="http://www.w3.org/International/core/">The Internationalization Working Group</a> has been a great help during the writing of this document. You are also welcome to include <a href="mailto:public-i18n-cjk@w3.org">public-i18n-cjk@w3.org</a>
            (<a href="mailto:public-i18n-cjk@w3.org?subject=subscribe">subscribe</a>) in any discussion about this document. Once the FPWD of this layout requirements is published, the HTML5 Chinese IG would work with <a href="http://www.w3.org/International/core/">the Internationalization Working Group</a> to take this document further, to widen the exposure and review of the document.
      </p>

      <p>A  <a href=""><strong>Chinese version</strong></a> of this document is also available.</p>
    </section>
    
    <section class='informative'>
      <h2>Usage of Chinese Ruby</h2>
      <p>
        Chinese Ruby is a small-sized, supplementary text attached to certain characters in the main text. Chinese Ruby is usually set in the interlinear space, aligned to the corresponding annotated characters. In Chinese typesetting, Chinese Ruby is mainly used to give pronunciation or meaning.
      </p>
      <section>
        <h2>Indicate the Pronunciation for Chinese characters</h2>
        <p>
          In Chinese, interlinear annotation is most commonly used  in this way. Presenting the pronunciation alongside the characters is a great help to beginners, especially to young children whose native language is Chinese or to foreigners intending to study Chinese. Therefore, it's a rare situation to make individual character with phonetic symbols, instead, we do use phonetic symbols to mark the full text. Also, it is not a regular practice in Chinese layout to use Ruby for pronunciation, even for the pronunciation of rarely used characters, although sometimes their pronunciation is provided within inter-line brackets.
        </p>
        <p>
          There are two methods, Zhuyin and Romanization, to indicate the pronunciation in Chinese phonetic system:
        </p>
        <section>
          <h2>Zhuyin</h2>
          <p>
            Mandarin Phonetic System or Taiwanese Dialect Phonetic System (also known as Zhuyin or Zhuyin Fuhao) is a system of phonetic notation mainly used in Taiwan, and other areas may also include it in certain dictionaries or textbooks. In most cases, Zhuyin appears on the right side of the based-characters,  exceptions are very rare.
          </p>
        </section>
        <section>
        <h2>Romanization</h2>
        <p>
          Hanyu Pinyin, which is being carried out in Mainland China now, uses the Latin alphabet to  transcribe the modern standard Hanyu (Mandarin) pronunciations of Chinese characters. Indicating the pronunciation for all characters of the full text with Hanyu Pinyin is the most common use case in Mainland China. In Hongkong and Taiwan, (examples of some popular Pinyin use cases in Cantonese), Taiwanese Hokkien Romanization System or other Chinese dialects own similar ruby annotation use case with Hanyu Pinyin.
        </p>
        <p>
          Due to the feature of Latin Alphabet, the text in such phonetic annotations appear only in horizontal writing mode. The text for young children whose native language is Chinese, usually provides reading aid for each individual character, while the text for those who learning Chinese as a second language mainly indicate the pronunciation for each words but, occasionally,  both of them will have almost the same typesetting. There will be space between the base-characters in the latter situation, and the ruby characters will have their unique requirements such as sentence case, or punctuation marks correspond to base-characters. The publications for Pinyin in the early stage are very varied and lack of consistency, both character-based annotation and word-based annotation can be found, so we don't intend to provide detail discussion about them in this document.
        </p>
        </section>
      </section>

      <section>
        <h2>Indicate the Meaning or Other Additional Information</h2>
        <section>
          <h2>Bilingual Annotation</h2>
          <p>
            Bilingual annotations aim to provide Chinese translation of the text in foreign languages and acronyms, or to offer original text to the translated word. This is mainly used for proper nouns,  titles or words difficult to be translated. It is commonly found in translation,  especially in Light Novels.
          </p>
        </section>
        <section>
          <h2>Interlinear Comments</h2>
          <p>
            Interlinear comments are methods to annotate the meaning of a piece of text fragments or a single word, which is named for its interlinear positioning. It usually lies in the interlinear space and co-exists with the body text. Compared to other annotated methods e.g. headnotes or footnotes, interlinear comments are more compact and stickier to the body. These kind of comments are often found in ancient books, e.g. Rouge Inkstone, an early commentator of the novel Dream of the Red Chamber.
          </p>
        </section>
      </section>
      <section>
        <h2>Qu Notation</h2>
        <p>
          Qu Notation contains many tradition methods to represent musical notes and lyrics in ancient China, e.g. Gongche notation. In modern prints, similar methods like numbered musical notation can also be found. 
        </p>
      </section>
    </section>
    
    <section>
      <h2>Positioning of Chinese Ruby</h2>

      <section>
        <h2>Overview</h2>
        <p>
          In vertical writing mode, Zhuyin, Romanization or bilingual annotations are usually placed at the right side of the base-characters (Hanzi), while interlinear comments are often set at the left side. In horizontal writing mode, Zhuyin can be placed on top of the base-characters, but in most cases they are still set to the right side of the base characters, while Romanization and bilingual annotations can do both the top or the bottom of the base characters, and the interlinear comments are usually placed at the bottom of the base characters.
        </p>
        <p>
          In principle, Zhuyin Phonetic Symbols are of the same size and the number of Zhuyin symbols for a character is never more than three, which is rather controllable. Romanization Phonetic Symbols can have different sizes and be composed to different lengths, and there should also be space between the Romanization Phonetic Symbols for each word. Thus,  these two kinds of phonetic symbols differ greatly in positioning.
        </p>
      </section>

      <section>
        <h2>Mandarin Phonetic Symbols</h2>
        <p>
          Although the Ministry of Education in Taiwan has released an official standard to place the MPS to the top (in horizontal writing mode) or the right side (in vertical writing mode) of the corresponding Hanzi, the use cases of putting MPS on the top are still rarely found in today's textbooks or other prints, and it isn't even accepted by the public. Therefore, it's always a better practice to place the MPS on the right side no matter in horizontal or vertical writing mode. 
        </p>
        <section>
          <h2>Positioning of Mandarin Phonetic Symbols</h2>
          <p>
            Although the Ministry of Education in Taiwan has released an official standard to place the MPS to the top (in horizontal writing mode) or the right side (in vertical writing mode) of the corresponding Hanzi, the use cases of putting MPS on the top are still rarely found in today's textbooks or other prints, and it isn't even accepted by the public. Therefore, it's always a better practice to place the MPS on the right side no matter in horizontal or vertical writing mode. 
          </p>
        </section>
        <section>
          <h2>Choice of Size and Ratio for Mandarin Phonetic Symbols</h2>
          <p>
            If a Hanzi character is considered as a square with an aspect ratio of 30:30,  then its MPS should set the ratio of width to height as 15:30 in vertical writing mode and of 30:15 in horizontal writing mode,  and stay sticky to the base-character.  Among these MPS, initials, medials and finals have an aspect ratio of 9:9,  while Mandarin non-neutral tones and dialect non-checked tones have an aspect ratio of 5:5, and the aspect ratio of Mandarin neutral tones is 9:2, the aspect ratio of dialect checked tones is 5:5.
          </p>
          <p>
            When the font size of the body is small, it's possible to provide larger font size only for the MPS, and the other methods, e.g. give the MPS in the parentheses within the body, are workable. More details can be found in 2.2.4 The Positioning of Different Composition for the Tones.
          </p>
        </section>
        <section>
          <h2>Positioning of the Tones in Mandarin Phonetic Symbols</h2>
          <ul>
            <li>To Mandarin non-neutral tones and dialect non-checked tones,  no matter in horizontal or vertical writing mode,  they are placed to the upper right corner of the last phonetic symbols.</li>
            <li>The Mandarin neutral tones come first to the phonetic symbols, which is the top in vertical writing mode and the left side in the horizontal writing mode.</li>
            <li>The dialect checked tones are set to the lower right corner to the phonetic symbols.</li>
          </ul>
        </section>
        <section>
          <h2>The Positioning of Different Composition for the Tones</h2>
          <ul>
            <li>Initials, medials and finals: composition of a single symbols.</li>
            <li>Initial-medial, initial-final, medial-final: composition of two symbols.</li>
            <li>Initial-medial-final: composition of three symbols:
              <ol type="a">
                <li>Mandarin non-neutral tones and dialect non-checked tones</li>
                <li>Mandarin neutral tones</li>
              </ol>
            </li>
            <li>The dialect checked tones</li>
          </ul>
        </section>
        <section>
          <h2>Rule to Separate the Mandarin Phonetic SymbolsMandarin Phonetic Symbols</h2>
          <p>
            Similar to the case that putting some punctuation marks in the beginning of the line is forbidden, in principle, MPS should stay sticky to the base-character in horizontal writing mode, they must not appear in the beginning of the line, and must always place on the right side of its corresponding base-character.
          </p>
        </section>
      </section>

      <section>
        <h2>Romanization</h2>
        <section>
          <h2>Basic Requirements</h2>
          <ul>
            <li>Romanization is only available in horizontal writing mode. These phonetic annotations are usually placed on top of the base characters.  In general, phonetic annotations and their base characters are sticky to each other regardless of space, and both of them are centered-aligned.</li>
            <li>In special cases when Romanization is needed in vertical writing mode,  the annotation is usually set to the right side of its its corresponding base-character, but it is difficult to read anyway.</li>
            <li>If a Romanization annotation is longer than its base-character and is at the start of a line, both the annotation and the base-character can be aligned to the beginning of the line.</li>
            <li>The space between two adjacent phonetic annotations should not be smaller than the size of normal space between two English words, which is about 1/4 em. Due to the limitation of typesetting, there's no space between the phonetic annotations which are longer than their base-characters in many prints.  Luckily,  this is not likely to lead to ambiguity because every Hanzi character is just one syllable and most Pinyin fragments are easy to tell, but sometimes these connected phonetic annotations can cause misunderstanding that the two base-characters come from the same word, also make it hard to understand the meaning of words.</li>
            <p><strong>Note</strong>: This layout requirement relies on the way HTML Ruby Markup Extensions supports <rt> and the way CSS Ruby Module Level 1 deals with space. <ruby><rb>双</rb><rb>窗</rb><rt>shuāng</rt> <rt>chuāng</rt></ruby></p>
            <p>The end of the bottom line and the beginner of the head line usually contains a space.</p>
            <li>The phonetic annotations are allowed to be extended to the top of adjacent base-characters as long as the minimum space is insured. </li>
            <li>As most target readers are beginners to Chinese, the body text has larger font size than usual prints.</li>
            <li>As the width of most Latin letters are different from each other,  and the letters can vary in visual size according to the typefaces even in the same font size, there's no special requirement for the ratio of from the font size of phonetic annotations to the font size of their base-characters.  Despite of this, the phonetic annotations usually use 1/2 the font size of the base-characters under the impact of Japanese Ruby Typesetting.</li>
            <li>
              <p>Phonetic annotations usually use sans serif typeface which is rather thin and round.  It's a general opinion in publishing and in education that Pinyin must use those typefaces in which a and g are single story and the second-tone mark is thick on the lower part and thin on the upper. Actually there have never been any national standards which can specify the typefaces and  the glyphs for Pinyin. The General Association of Chinese Culture in Taiwan once wrote to the Ministry of Education in Mainland China about the rules about the typefaces of Pinyin, and was responded that the letter a and the letter g should use corresponding Latin letter, but there were not any strict requirements for the typefaces.
              </p>
              <ol type="a">
                <li><a href="https://github.com/audreyt/moedict-webkit/issues/83#issuecomment-26715350">audreyt/moedict webkit#83</a> </li>
                <li><a href="https://twitter.com/audreyt/status/392509080582885376">twitter.com/audreyt/status/392509080582885376</a></li>
              </ol>
            </li>
          </ul>
          <p>Below detailed description of the difference between two typical use cases.</p>
        </section>
        <section>
          <h2>Character-based Phonetic Annotation</h2>
          <ul>
            <li>The base character is a single Hanzi. Only the Hanzi is annotated, but not Arabic numerals , punctuation marks nor other characters.</li>
            <li>The phonetic annotations are always on the top.</li>
            <li>As the phonetic annotations are often longer than their base character, the space between each base character should be set larger to avoid too much irregular adjustment within the base-characters.</li>
            <li>The phonetic annotations are all in lower case. Sentence cases are rare.</li>
          </ul>
        </section>
        <section>
          <h2>Word-based Phonetic Annotation</h2>
          <ul>
            <li>The base-characters are one or more words consist of Hanzi characters. Rules for the making of words can refer to GB/T 16159—2012 Basic Requirements for Words in Hanyu Pinyin.</li>
            <li>Phonetic annotations sometimes appears at the bottom.</li>
            <li>Both the phonetic annotation and the base-characters are separated by words. The adjacent phonetic annotations should be separated by a space of 1/2 em, but the spacing between each base-characters is normal.</li>
            <li>Many phonetic annotations for words can indicate the logic of the whole sentence, rather than merely indicating the pronunciation: these phonetic annotations have sentence cases, as well as punctuation marks which follow the annotations in front of it.</li>
          </ul>
        </section>
      </section>
      <section>
        <h2>Both Annotate Pinyin and Zhuyin</h2>
        <p>
          Both annotate Pinyin and Zhuyin is a practical method to indicate the punctuation to the readers who know only one of these phonetic systems, as well as to help study or enquiry the other phonetic system.  Normally, when Pinyin and Zhuyin are both provided, the Zhuyin phonetic symbols are placed on the right side of the Hanzi character, while Romanization are set to the bottom of Hanzi in horizontal writing mode and the left side in vertical writing mode.
        </p>
      </section>
      <section>
        <h2>Atypical Use Cases for Hanzi Phonetic Annotations</h2>
        <section>
          <h2>Erhua Yin</h2>
          <p>
            The use of Erhua is very special in modern standardize Chinese, which needs extra description in the body text or note in Zhuyin because Zhuyin phonetic symbols corresponds to only one base-characters and fail to indicate the continuity and the final's change. Romanization can show the features of Erhua very well.
          </p>
        </section>
        <section>
          <h2>Ligature</h2>
          <p>
            Ligature is special for its many syllables, thus Ruby annotation may make the text fail to typeset nicely, instead the pronunciation should be given by note, in parentheses or even inside the body. Anyway, Ligature is rare in Modern Chinese now.
          </p>
        </section>
      </section>
      <section>
        <h2>Bilingual Annotation</h2>
        <p>
          The typesetting of bilingual annotation is very similar to Romanization actually. It's usually placed in the end of the paragraph, i.e. the right side of the base-characters in vertical writing mode and the top of the base-characters in horizontal writing mode.
        </p>
        <section>
          <h2>Align the Words</h2>
          <p>To maintain the unity of the whole page, when the annotation have different length with the base-characters,  it's necessary to make changes to the spacing between words to avoid misunderstanding.</p>
          <p>When the annotation is shorter than its base-characters, it can be align to the center if it's in Western, or if it can leave more spacing between each character if it's in Hanzi. There are two method to satisfy the latter, one is to equally distribute the space, the other is lined up justified.</p>
          <p>When the annotation is longer than its base-characters, the base-characters can be lined up in the center if it's in Western, or it can leave more spacing between each character if it's in Hanzi</p>
          <p>Note: More detail about bottom lines can refer to JLReq・Positioning of Group-ruby with Respect to Base Characters, <a href="https://clreq.hackpad.com/ep/search/?q=%23positioning_of_groupruby_with_respect_to_base_characters&via=LEZdmNzTVUf">JLReq/#positioning_of_groupruby_with_respect_to_base_characters</a></p>
        </section>  
      </section>
      <section>
        <h2>Interlinear Comments</h2>
        <p>Interlinear comments can have very many and varied layouts while their contexts have quite different length. They are usually placed at the end of the paragraph, the left side of the base-characters in vertical writing mode and the bottom of the base-characters in horizontal writing mode. Sometimes the interlinears comments are in other colors to help the reader tell the difference from the body text .</p>
        <p>Interlinear comments are also used to provide details for a long text fragment, in this case, because there isn't any clear base-characters, the annotation can just find itself a suitable place as an anchor and flow down. There's no strict requirement for its length, and sometimes it can be longer than one line.</p>
      </section>
    </section>
  </body>
</html>